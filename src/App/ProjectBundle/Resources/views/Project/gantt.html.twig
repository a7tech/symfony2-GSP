{% extends 'AppTaskBundle:Task:layout.html.twig' %}
{% set nav_title = 'gantt'|trans({}, 'Project') %}

{% block actions_main %}
    </div>
    </div>

    <div class="action-view">

        <div id="gantt_here" style='width:100%'
             data-start-date="{{ start_date|date('U') }}"
             data-end-date="{{ end_date|date('U') }}"
             data-free-days="{{ working_days|json_encode }}"
             data-update-url="{{ path('backend_project_gantt_task_edit', {'id': project.id}) }}"
             data-show-link="{{ path('backend_tasks_project_show', {'id': '_id_', 'project_id': project.id}) }}"
             data-edit-link="{{ path('backend_tasks_project_edit', {'id': '_id_', 'project_id': project.id}) }}"
             data-delete-link="{{ path('backend_project_gantt_task_delete', {'task_id': '_id_', 'id': project.id}) }}"></div>


    </div>
    <div class="container">
    <div>
{% endblock %}

{% block user_js %}
    <script src="{{ url('bazinga_jstranslation_js', { 'domain': 'Project' }) }}"></script>
    <script src="{{ url('bazinga_jstranslation_js', { 'domain': 'Tasks' }) }}"></script>
    <script src="{{ asset('js/dhtmlxgantt.js') }}" type="text/javascript" charset="utf-8"></script>
    <script src="{{ asset('js/dhtmlxgantt/ext/dhtmlxgantt_tooltip.js') }}" type="text/javascript" charset="utf-8"></script>
    <script>
        var data = {{ gantt_chart_data|json_encode|raw }};
    </script>
    <script src="{{ asset('bundles/appproject/js/gantt.js') }}" type="text/javascript"></script>
{% endblock %}

{% block user_css %}
    {{ parent() }}
    <link rel="stylesheet" type="text/css" href="{{ asset('css/dhtmlxgantt_meadow.css') }}" media="screen" title="no title" charset="utf-8">
    <link rel="stylesheet" type="text/css" href="{{ asset('css/main/gantt.css') }}" media="screen" title="no title" charset="utf-8">
    
{% endblock %}